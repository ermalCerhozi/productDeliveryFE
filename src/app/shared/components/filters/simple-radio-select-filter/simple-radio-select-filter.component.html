<ng-template>
    <form [formGroup]="form" class="mef-simple-radio-select-filter">
        <mat-form-field
            floatLabel="auto"
            class="form-field-without-hint"
            [ngStyle]="{
                backgroundColor:
                    defaultEmptyValue()!.value !== selection().value ? '#dcdcdc' : '#eeeeee',
                width: customLabelWidth() ? customLabelWidth : null,
            }"
        >
            <span class="mef-simple-radio-select-label">
                @if (defaultEmptyValue()?.value !== selection().value) {
                    <mat-icon class="mef-simple-radio-select-label-icon">check</mat-icon>
                }
                <span>{{ labelTK() }}</span></span
            >
            <mat-select
                formControlName="fields"
                (selectionChange)="onSelectionChange($event)"
                class="mef-simple-radio-select-filter-select"
                [panelClass]="['mef-simple-radio-select-filter-select-overlay', panelClass]"
                [compareWith]="compareValues"
                [disableOptionCentering]="true"
            >
                @for (field of fields(); track field) {
                    <mat-option [value]="field">
                        <div class="mef-simple-radio-select-filter-content">
                            @if (field.isTranslated) {
                                <div class="mef-simple-radio-select-filter-option-label">
                                    {{ field.label }}
                                </div>
                            }
                            @if (!field.isTranslated) {
                                <div class="mef-simple-radio-select-filter-option-label">
                                    {{ field.label }}
                                </div>
                            }
                            <div class="mef-simple-radio-select-filter-count-and-suffix">
                                @if (field.count || field.count === 0) {
                                    <div class="mef-simple-radio-select-filter-option-count">
                                        ({{ field.count }})
                                    </div>
                                }
                                <div>
                                    @if (field.value === selection().value) {
                                        <mat-icon
                                            class="mef-simple-radio-select-filter-suffix"
                                            color="primary"
                                            >radio_button_checked</mat-icon
                                        >
                                    }
                                    @if (field.value !== selection().value) {
                                        <mat-icon class="mef-simple-radio-select-filter-suffix"
                                            >radio_button_unchecked</mat-icon
                                        >
                                    }
                                </div>
                            </div>
                        </div>
                    </mat-option>
                }
            </mat-select>
        </mat-form-field>
    </form>
</ng-template>
