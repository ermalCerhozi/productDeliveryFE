<ng-container *transloco="let t">
    <body>
        <div class="container" #containerDiv>
            <div class="forms-container">
                <!-- Forms Container -->
                <div class="signin-forgot-password">
                    <!-- Sign in -->
                    <form [formGroup]="loginForm" (ngSubmit)="login()" class="sign-in-form">
                        <h2 class="title">{{ t('signIn.title') }}</h2>
                        @if (loginForm.get('phoneNumber')?.hasError('required')) {
                            <div>
                                {{ t('signIn.phoneNumberRequired') }}
                            </div>
                        }
                        @if (loginForm.get('phoneNumber')?.hasError('pattern')) {
                            <div class="error-text">
                                {{ t('signIn.phoneNumberPattern') }}
                            </div>
                        }
                        <div
                            class="input-field"
                            [ngClass]="{
                                'error-border': loginForm.get('phoneNumber')?.hasError('pattern'),
                            }"
                        >
                            <i class="fas fa-user"></i>
                            <input
                                type="text"
                                formControlName="phoneNumber"
                                [placeholder]="t('signIn.phoneNumberPlaceholder')"
                            />
                        </div>
                        @if (loginForm.get('password')?.hasError('required')) {
                            <div>
                                {{ t('signIn.passwordRequired') }}
                            </div>
                        }
                        @if (loginForm.get('password')?.hasError('minlength')) {
                            <div class="error-text">
                                {{ t('signIn.passwordMinLength') }}
                            </div>
                        }
                        <div class="input-field">
                            <i class="fas fa-lock"></i>
                            <input
                                type="password"
                                formControlName="password"
                                [placeholder]="t('signIn.passwordPlaceholder')"
                            />
                        </div>
                        <button type="submit" [disabled]="!loginForm.valid" class="btn">
                            {{ t('signIn.signInButton') }}
                        </button>
                        @if (errorMessage) {
                            <div class="error-text">
                                {{ t('signIn.loginError') }}
                            </div>
                        }
                        @if (errorMessage) {
                            <div class="error-text">
                                {{ t('signIn.credentialsError') }}
                            </div>
                        }

                        <p class="social-text">{{ t('signIn.socialText') }}</p>
                        <div class="social-media">
                            <a href="#" class="social-icon">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="#" class="social-icon">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="#" class="social-icon">
                                <i class="fab fa-google"></i>
                            </a>
                            <a href="#" class="social-icon">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                        </div>
                    </form>

                    <!-- Forgot password -->
                    <form
                        [formGroup]="forgotPasswordForm"
                        class="forgot-password-form"
                        (ngSubmit)="sendResetPasswordLink()"
                    >
                        <h2 class="title">{{ t('signIn.forgotPasswordTitle') }}</h2>
                        <div class="input-field">
                            <i class="fas fa-envelope"></i>
                            <input
                                type="email"
                                formControlName="email"
                                [placeholder]="t('signIn.emailPlaceholder')"
                            />
                        </div>
                        <button type="submit" [disabled]="!forgotPasswordForm.valid" class="btn">
                            {{ t('signIn.sendLinkButton') }}
                        </button>

                        <p class="social-text">{{ t('signIn.socialText') }}</p>
                        <div class="social-media">
                            <a href="#" class="social-icon">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="#" class="social-icon">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="#" class="social-icon">
                                <i class="fab fa-google"></i>
                            </a>
                            <a href="#" class="social-icon">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Switch views -->
            <div class="panels-container">
                <div class="panel left-panel">
                    <div class="content">
                        <h3>{{ t('signIn.troubleLoggingIn') }}</h3>
                        <p>
                            {{ t('signIn.troubleDescription') }}
                        </p>
                        <button
                            (click)="goTo('forgotPassword')"
                            class="btn transparent"
                            id="forgot-password-btn"
                        >
                            {{ t('signIn.forgotPasswordButton') }}
                        </button>
                    </div>
                    <img src="/assets/images/log.svg" class="image" alt="" />
                </div>

                <div class="panel right-panel">
                    <div class="content">
                        <h3>{{ t('signIn.oneOfUs') }}</h3>
                        <p>{{ t('signIn.signInDescription') }}</p>
                        <button (click)="goTo('signIn')" class="btn transparent" id="sign-in-btn">
                            {{ t('signIn.signInBackButton') }}
                        </button>
                    </div>
                    <img src="assets/images/register.svg" class="image" alt="" />
                </div>
            </div>
        </div>
    </body>
</ng-container>
