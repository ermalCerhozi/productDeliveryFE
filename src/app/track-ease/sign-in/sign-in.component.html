<body>
    <div class="container" #containerDiv>
        <div class="forms-container">
            <!-- Forms Container -->
            <div class="signin-forgot-password">
                <!-- Sign in -->
                <form [formGroup]="loginForm" (ngSubmit)="login()" class="sign-in-form">
                    <h2 class="title">Sign In</h2>
                    <div *ngIf="loginForm.get('phoneNumber')?.hasError('required')">
                        Phone number is required
                    </div>
                    <div
                        *ngIf="loginForm.get('phoneNumber')?.hasError('pattern')"
                        class="error-text"
                    >
                        Phone number must be exactly 10 digits
                    </div>
                    <div
                        class="input-field"
                        [ngClass]="{
                            'error-border': loginForm.get('phoneNumber')?.hasError('pattern'),
                        }"
                    >
                        <i class="fas fa-user"></i>
                        <input
                            type="text"
                            formControlName="phoneNumber"
                            placeholder="Phone Number"
                        />
                    </div>
                    <div *ngIf="loginForm.get('password')?.hasError('required')">
                        Password is required
                    </div>
                    <div
                        *ngIf="loginForm.get('password')?.hasError('minlength')"
                        class="error-text"
                    >
                        Password must be at least 5 characters
                    </div>
                    <div class="input-field">
                        <i class="fas fa-lock"></i>
                        <input type="password" formControlName="password" placeholder="Password" />
                    </div>
                    <button type="submit" [disabled]="!loginForm.valid" class="btn">Sign In</button>
                    <div *ngIf="errorMessage" class="error-text">
                        An error occurred during login
                    </div>
                    <div *ngIf="errorMessage" class="error-text">
                        Please check you phone number and password are correct!
                    </div>

                    <p class="social-text">Visit our social media platforms</p>
                    <div class="social-media">
                        <a href="#" class="social-icon">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-google"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </form>

                <!-- Forgot password -->
                <form
                    [formGroup]="forgotPasswordForm"
                    class="forgot-password-form"
                    (ngSubmit)="sendResetPasswordLink()"
                >
                    <h2 class="title">Forgot Password</h2>
                    <div class="input-field">
                        <i class="fas fa-envelope"></i>
                        <input type="email" formControlName="email" placeholder="Email" />
                    </div>
                    <button type="submit" [disabled]="!forgotPasswordForm.valid" class="btn">
                        Send Link
                    </button>

                    <p class="social-text">Visit our social media platforms</p>
                    <div class="social-media">
                        <a href="#" class="social-icon">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-google"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </form>
            </div>
        </div>

        <!-- Switch views -->
        <div class="panels-container">
            <div class="panel left-panel">
                <div class="content">
                    <h3>Trouble logging in?</h3>
                    <p>
                        Enter your email, and we'll send you a link to get back into your account.
                    </p>
                    <button
                        (click)="goTo('forgotPassword')"
                        class="btn transparent"
                        id="forgot-password-btn"
                    >
                        Forgot Password
                    </button>
                </div>
                <img src="/assets/images/log.svg" class="image" alt="" />
            </div>

            <div class="panel right-panel">
                <div class="content">
                    <h3>One of us?</h3>
                    <p>Sign in to access your personalized experience.</p>
                    <button (click)="goTo('signIn')" class="btn transparent" id="sign-in-btn">
                        Sign In
                    </button>
                </div>
                <img src="assets/images/register.svg" class="image" alt="" />
            </div>
        </div>
    </div>
</body>
